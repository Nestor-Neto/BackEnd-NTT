2025-05-07 00:02:21.495 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Sales - application/json 309
2025-05-07 00:02:21.510 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:02:21.514 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Ambev.DeveloperEvaluation.WebApi.Features.Sales.Create.CreateSaleRequest, AutoMapper.IMapper) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 00:02:21.785 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.MongoDBService MongoDB service initialized successfully
2025-05-07 00:02:21.947 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.SaleService Iniciando criação de nova venda
2025-05-07 00:02:21.951 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 00:02:21.956 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi) in 434.5293ms
2025-05-07 00:02:21.958 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:02:21.962 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Sales - 500 null application/json; charset=utf-8 466.6016ms
2025-05-07 00:09:41.302 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 00:09:55.964 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 00:09:56.115 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Nestor Neto\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 00:09:56.271 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 00:09:56.273 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 00:09:56.275 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 00:09:56.277 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Projeto_NetCore\Projeto_BackEndNTT\BackEnd-NTT\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 00:10:10.477 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/index.html - null null
2025-05-07 00:10:10.626 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/index.html - 200 null text/html;charset=utf-8 150.5384ms
2025-05-07 00:10:11.042 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - null null
2025-05-07 00:10:11.192 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.7336ms
2025-05-07 00:10:28.686 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Sales - application/json 309
2025-05-07 00:10:28.741 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:10:28.771 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Ambev.DeveloperEvaluation.WebApi.Features.Sales.Create.CreateSaleRequest, AutoMapper.IMapper) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 00:10:29.015 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.MongoDBService MongoDB service initialized successfully
2025-05-07 00:10:29.184 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.SaleService Iniciando criação de nova venda
2025-05-07 00:10:29.187 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.UnitOfWork Iniciando criação de venda com Unit of Work
2025-05-07 00:10:30.435 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 00:10:30.444 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi) in 1666.3044ms
2025-05-07 00:10:30.447 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:10:30.456 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Sales - 500 null application/json; charset=utf-8 1769.0807ms
2025-05-07 00:12:37.447 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 00:32:55.338 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 00:32:55.462 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Nestor Neto\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 00:32:55.525 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 00:32:55.528 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 00:32:55.531 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 00:32:55.533 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Projeto_NetCore\Projeto_BackEndNTT\BackEnd-NTT\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 00:33:23.100 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/index.html - null null
2025-05-07 00:33:23.230 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/index.html - 200 null text/html;charset=utf-8 132.0997ms
2025-05-07 00:33:23.401 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - null null
2025-05-07 00:33:23.517 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.209ms
2025-05-07 00:33:29.830 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/index.html - null null
2025-05-07 00:33:29.836 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/index.html - 200 null text/html;charset=utf-8 5.6832ms
2025-05-07 00:33:29.946 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - null null
2025-05-07 00:33:29.983 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.0129ms
2025-05-07 00:33:54.968 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Sales - application/json 309
2025-05-07 00:33:55.036 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:33:55.070 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Ambev.DeveloperEvaluation.WebApi.Features.Sales.Create.CreateSaleRequest, AutoMapper.IMapper) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 00:33:55.404 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.MongoDBService MongoDB service initialized successfully
2025-05-07 00:33:55.582 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.SaleService Iniciando criação de nova venda
2025-05-07 00:33:55.589 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 00:33:55.602 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi) in 521.2758ms
2025-05-07 00:33:55.604 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:33:55.607 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Sales - 500 null application/json; charset=utf-8 639.4101ms
2025-05-07 00:35:14.957 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 00:48:48.043 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 00:48:48.319 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Nestor Neto\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 00:48:48.448 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 00:48:48.450 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 00:48:48.451 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 00:48:48.453 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Projeto_NetCore\Projeto_BackEndNTT\BackEnd-NTT\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 00:49:41.809 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/index.html - null null
2025-05-07 00:49:42.023 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/index.html - 200 null text/html;charset=utf-8 216.8473ms
2025-05-07 00:49:42.216 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - null null
2025-05-07 00:49:42.350 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.2705ms
2025-05-07 00:49:48.865 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/index.html - null null
2025-05-07 00:49:48.873 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/index.html - 200 null text/html;charset=utf-8 7.9609ms
2025-05-07 00:49:49.017 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - null null
2025-05-07 00:49:49.048 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.8544ms
2025-05-07 00:50:10.498 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Sales - application/json 309
2025-05-07 00:50:10.585 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:50:10.689 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Ambev.DeveloperEvaluation.WebApi.Features.Sales.Create.CreateSaleRequest, AutoMapper.IMapper) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 00:50:11.058 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.MongoDBService MongoDB service initialized successfully
2025-05-07 00:50:11.226 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.SaleService Iniciando criação de nova venda
2025-05-07 00:50:11.232 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ConflictObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 00:50:11.245 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi) in 545.9591ms
2025-05-07 00:50:11.247 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:50:11.250 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Sales - 409 null application/json; charset=utf-8 752.4514ms
2025-05-07 00:50:49.304 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Sales - application/json 308
2025-05-07 00:50:49.324 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:50:49.329 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Ambev.DeveloperEvaluation.WebApi.Features.Sales.Create.CreateSaleRequest, AutoMapper.IMapper) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 00:50:49.352 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.MongoDBService MongoDB service initialized successfully
2025-05-07 00:50:49.356 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.SaleService Iniciando criação de nova venda
2025-05-07 00:50:49.359 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.UnitOfWork Iniciando criação de venda com Unit of Work
2025-05-07 00:50:50.573 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Decimal), @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO sales (id, branch_id, branch_name, cancelled, customer_id, customer_name, sale_date)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO sale_items (id, discount, product_id, product_name, quantity, unit_price, sale_id)
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-05-07 00:50:51.119 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 00:50:51.131 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi) in 1797.3038ms
2025-05-07 00:50:51.137 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:50:51.147 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Sales - 500 null application/json; charset=utf-8 1842.6086ms
2025-05-07 00:51:12.955 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 00:52:13.158 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 00:52:13.316 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Nestor Neto\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 00:52:13.446 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 00:52:13.448 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 00:52:13.450 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 00:52:13.452 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Projeto_NetCore\Projeto_BackEndNTT\BackEnd-NTT\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 00:53:54.836 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/index.html - null null
2025-05-07 00:53:54.964 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/index.html - 200 null text/html;charset=utf-8 129.5919ms
2025-05-07 00:53:55.546 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - null null
2025-05-07 00:53:55.694 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.0719ms
2025-05-07 00:54:07.032 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Sales - application/json 308
2025-05-07 00:54:07.089 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:54:07.125 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Ambev.DeveloperEvaluation.WebApi.Features.Sales.Create.CreateSaleRequest, AutoMapper.IMapper) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 00:54:07.480 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.MongoDBService MongoDB service initialized successfully
2025-05-07 00:54:07.623 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.SaleService Iniciando criação de nova venda
2025-05-07 00:54:07.626 -03:00 [INF] Ambev.DeveloperEvaluation.Domain.Services.UnitOfWork Iniciando criação de venda com Unit of Work
2025-05-07 00:54:08.680 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Decimal), @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO sales (id, branch_id, branch_name, cancelled, customer_id, customer_name, sale_date)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO sale_items (id, discount, product_id, product_name, quantity, unit_price, sale_id)
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-05-07 00:54:09.261 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 00:54:09.272 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi) in 2139.1013ms
2025-05-07 00:54:09.274 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.Create (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 00:54:09.284 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Sales - 500 null application/json; charset=utf-8 2251.3981ms
2025-05-07 00:54:36.931 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
